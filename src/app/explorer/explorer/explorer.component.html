<div class="explorer-container">
  <div class="toolbar">
    <mat-form-field>
      <mat-label>Entity</mat-label>
      <mat-select [(value)]="selectedEntity" (selectionChange)="onEntityChange($event.value)">
        <mat-option *ngFor="let e of entities" [value]="e">{{ e }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Search</mat-label>
      <input
        matInput
        #searchBox
        (input)="onSearchChange(searchBox.value)"
        placeholder="Keyword..."
      />
    </mat-form-field>
  </div>

  <ag-grid-angular
    style="width: 100%; height: 600px;"
    class="ag-theme-alpine"
    [columnDefs]="columnDefs"
    [defaultColDef]="defaultColDef"
    [rowData]="rowData"
    [pagination]="false"
    (gridReady)="onGridReady($event)"
    (sortChanged)="onSortChanged($event)"
  >
  </ag-grid-angular>

  <div class="pagination-controls" *ngIf="totalRows > 0">
    <button mat-button (click)="onPageChange(page - 1)" [disabled]="page <= 1">Prev</button>
    <span>Showing {{ (page - 1) * limit + 1 }}â€“{{ Math.min(page * limit, totalRows) }} of {{ totalRows }}</span>
    <span>Page {{ page }} of {{ Math.ceil(totalRows / limit) }}</span>
    <button
      mat-button
      (click)="onPageChange(page + 1)"
      [disabled]="page >= Math.ceil(totalRows / limit)"
    >
      Next
    </button>
  </div>

  <mat-form-field>
  <mat-label>Rows per page</mat-label>
  <mat-select [(value)]="limit" (selectionChange)="onLimitChange($event.value)">
    <mat-option [value]="10">10</mat-option>
    <mat-option [value]="25">25</mat-option>
    <mat-option [value]="50">50</mat-option>
    <mat-option [value]="100">100</mat-option>
  </mat-select>
</mat-form-field>
</div>
